import{b as j,d as N}from"./chunk-KZP422GK.js";import{E as K,i as V,j as U,p as u,q as W,r as B,s as A,t as H}from"./chunk-3EJWS4FH.js";import{$a as o,Fa as E,Ja as k,T as v,Ua as C,Va as M,Xa as h,Y as y,Ya as P,Z as D,Za as x,_a as s,a as b,ab as i,b as S,bb as _,cb as I,fb as T,gb as g,kb as $,mb as z,ob as r,pb as c,qb as O,sa as p,ua as a,vb as F,yb as R}from"./chunk-GPEBZ3KR.js";var q=W({providedIn:"root"},A({movie:null,reviews:[],recommendations:[]}),B(t=>{let n=v(j),e="2c2bef9d99b73c2a458dd29141f940d1";return{loadMovieDetails:l=>{let m=`https://api.themoviedb.org/3/movie/${l}?api_key=${e}`;n.get(m).subscribe(d=>{u(t,{movie:d}),console.log(d)});let f=`https://api.themoviedb.org/3/movie/${l}/reviews?api_key=${e}`;n.get(f).subscribe(d=>{u(t,{reviews:d.results}),console.log("rev",d.results)});let J=`https://api.themoviedb.org/3/movie/${l}/recommendations?api_key=${e}`;n.get(J).subscribe(d=>{u(t,{recommendations:d.results}),console.log("reco",d.results)})}}}));var L=t=>({background:t,"border-radius":"50%"}),w=(t,n)=>n.id;function Q(t,n){if(t&1&&(o(0,"span",28),r(1,"\u2605"),i()),t&2){let e=n.fill;z("filled",e===100)}}function X(t,n){if(t&1&&(o(0,"span"),r(1),i()),t&2){let e=n.$implicit;a(),c(e.name)}}function Y(t,n){if(t&1&&r(0),t&2){let e=n.$implicit;O(" ",e.english_name," ")}}function Z(t,n){if(t&1&&_(0,"img",29),t&2){let e=g().$implicit;s("src","https://image.tmdb.org/t/p/w500/"+e.logo_path,p)}}function ee(t,n){if(t&1&&C(0,Z,1,1,"img",29),t&2){let e=n.$implicit;M(e.logo_path?0:-1)}}function te(t,n){if(t&1){let e=I();o(0,"div",5)(1,"div",8)(2,"div",9),_(3,"img",10),i(),o(4,"div",11)(5,"div",12)(6,"h3"),r(7),i(),o(8,"div")(9,"img",13),T("click",function(){let m=y(e),f=g();return D(f.toggleWishlist(m))}),i()()(),o(10,"p",14),r(11),i(),o(12,"div",15)(13,"div",16),_(14,"ngb-rating",17),k(15,Q,2,2,"ng-template",null,0,R),i(),o(17,"div",18)(18,"p"),r(19),i()()(),o(20,"p",19),r(21),i(),o(22,"div",20),P(23,X,2,1,"span",null,w),i(),o(25,"div",21)(26,"p",22)(27,"span"),r(28,"duration: "),i(),r(29),i(),o(30,"p",23)(31,"span"),r(32,"languages: "),i(),P(33,Y,1,1,null,null,h),i()(),o(35,"div",24),P(36,ee,1,1,null,null,w),i(),o(38,"div",25)(39,"a",26),r(40,"website "),_(41,"img",27),i()()()()()}if(t&2){let e=n,l=$(16),m=g();a(3),s("src","https://image.tmdb.org/t/p/w500/"+e.poster_path,p),a(4),c(e.title),a(2),s("src",m.wishlistStore.isInWishlist(e.id)?"./heart-filled.png":"./heart-empty.png",p),a(2),c(e.release_date),a(3),s("rate",e.vote_average/2)("readonly",!0)("max",5)("starTemplate",l),a(5),c(e.vote_count),a(2),c(e.overview),a(2),x(e.genres),a(6),O("",e.runtime," Min."),a(4),x(e.spoken_languages),a(3),x(e.production_companies),a(3),s("href",e.homepage,p)}}function ne(t,n){if(t&1&&(o(0,"div",30),_(1,"img",31),o(2,"p"),r(3),i()(),o(4,"p",32),r(5),i()),t&2){let e=g().$implicit;a(),s("src","https://image.tmdb.org/t/p/w500/"+e.author_details.avatar_path,p),a(2),c(e.author_details.name),a(2),c(e.content)}}function ie(t,n){if(t&1&&C(0,ne,6,3),t&2){let e=n.$implicit;M(e.author_details.avatar_path?0:-1)}}function oe(t,n){if(t&1&&(o(0,"div",34)(1,"div",35)(2,"div",9),_(3,"img",36),i(),o(4,"div",37)(5,"div",38),r(6),i()(),o(7,"div",39)(8,"div")(9,"h3",40),r(10),i(),o(11,"p",41),r(12),i()()()()()),t&2){let e=g().$implicit,l=g(2);a(3),s("src","https://image.tmdb.org/t/p/w500/"+e.poster_path,p),a(),s("ngStyle",F(5,L,"conic-gradient("+(l.getVotePercent(e)>=70?"#28a745":l.getVotePercent(e)>=0?"#ffc107":"#dc3545")+" "+l.getVotePercent(e)+"%, #565555 "+l.getVotePercent(e)+"%)")),a(2),O(" ",l.getVotePercent(e),"% "),a(4),c(e.title),a(2),c(e.release_date)}}function ae(t,n){if(t&1&&C(0,oe,13,7,"div",34),t&2){let e=n.$implicit;M(e.poster_path?0:-1)}}function re(t,n){if(t&1&&(o(0,"h3"),r(1,"Recommendations"),i(),o(2,"div",33),P(3,ae,1,1,null,null,h),i()),t&2){let e=g();a(3),x(e.movieDetailsStore.recommendations())}}var G=class t{route=v(N);movieDetailsStore=v(q);wishlistStore=v(H);constructor(){this.route.params.subscribe(n=>{let e=+n.id;this.movieDetailsStore.loadMovieDetails(e)})}toggleWishlist(n){this.wishlistStore.isInWishlist(n.id)?this.wishlistStore.remove(n.id):this.wishlistStore.add(S(b({},n),{media_type:"movie"}))}getVotePercent(n){return Math.round((n.vote_average||0)*10)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=E({type:t,selectors:[["app-movie-details-page"]],decls:12,vars:2,consts:[["t",""],[1,"movie-details"],[1,"container"],[1,"movie"],[1,"row"],[1,"col-sm-12","mb-3"],[1,"reviews"],[1,"recommendation"],[1,"wishlist__card","mb-3","d-flex","align-items-start","gap-3"],[1,"card-img"],["alt","movie",3,"src"],[1,"card-details"],[1,"title","d-flex","justify-content-between","align-items-center"],["alt","wishlist icon",1,"",3,"click","src"],[1,"release"],[1,"rate","d-flex","align-items-center","gap-4"],[1,"stars"],[1,"text-warning",3,"rate","readonly","max","starTemplate"],[1,"count"],[1,"overview"],[1,"genres"],[1,"d-flex","align-items-center","gap-5"],[1,"duration"],[1,"lang"],[1,"companies"],[1,"link"],[3,"href"],["src","./link.png","alt","link"],[1,"star","fs-3"],["alt","company",3,"src"],[1,"user","d-flex","align-items-center"],["alt","author",3,"src"],[1,"content"],[1,"search-list","row"],[1,"col-lg-2","col-md-4","col-sm-12","mb-3"],[1,"item","mb-3"],[1,"w-100","rounded-2",3,"src"],[1,"rate","d-flex","justify-content-center","align-items-center",3,"ngStyle"],[1,"circle"],[1,"mt-2"],[1,"fs-6","fw-bold","mb-1"],[1,"mb-0","text-muted"]],template:function(e,l){if(e&1&&(o(0,"section",1)(1,"div",2)(2,"div",3)(3,"div",4),C(4,te,42,12,"div",5),i()(),o(5,"div",6)(6,"h3"),r(7,"Reviews"),i(),P(8,ie,1,1,null,null,w),i(),o(10,"div",7),C(11,re,5,0),i()()()),e&2){let m;a(4),M((m=l.movieDetailsStore.movie())?4:-1,m),a(4),x(l.movieDetailsStore.reviews()),a(3),M(l.movieDetailsStore.recommendations().length>0?11:-1)}},dependencies:[K,U,V],styles:['.movie-details[_ngcontent-%COMP%]   .card-img[_ngcontent-%COMP%]{width:60%}.movie-details[_ngcontent-%COMP%]   .card-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:15px}.movie-details[_ngcontent-%COMP%]   .card-details[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;cursor:pointer}.movie-details[_ngcontent-%COMP%]   .card-details[_ngcontent-%COMP%]   .release[_ngcontent-%COMP%]{color:#959595;font-size:13px}.movie-details[_ngcontent-%COMP%]   .card-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.movie-details[_ngcontent-%COMP%]   .card-details[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{font-size:12px}.movie-details[_ngcontent-%COMP%]   .card-details[_ngcontent-%COMP%]   .overview[_ngcontent-%COMP%]{margin:20px 0}.movie-details[_ngcontent-%COMP%]   .card-details[_ngcontent-%COMP%]   .genres[_ngcontent-%COMP%]{margin-bottom:20px}.movie-details[_ngcontent-%COMP%]   .card-details[_ngcontent-%COMP%]   .genres[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background-color:#ffe353;padding:5px 20px;border-radius:10px;margin-right:10px}.movie-details[_ngcontent-%COMP%]   .card-details[_ngcontent-%COMP%]   .duration[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .movie-details[_ngcontent-%COMP%]   .card-details[_ngcontent-%COMP%]   .lang[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700;text-transform:capitalize}.movie-details[_ngcontent-%COMP%]   .card-details[_ngcontent-%COMP%]   .companies[_ngcontent-%COMP%]{margin-top:20px}.movie-details[_ngcontent-%COMP%]   .card-details[_ngcontent-%COMP%]   .companies[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40px;margin-right:10px}.movie-details[_ngcontent-%COMP%]   .card-details[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{padding:5px 10px;border-radius:20px;border:1px solid #FFE353;width:fit-content;margin-top:20px}.movie-details[_ngcontent-%COMP%]   .card-details[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#000}.movie-details[_ngcontent-%COMP%]   .card-details[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-left:10px}.movie-details[_ngcontent-%COMP%]   .reviews[_ngcontent-%COMP%]{margin-bottom:50px}.movie-details[_ngcontent-%COMP%]   .reviews[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:20px 0}.movie-details[_ngcontent-%COMP%]   .reviews[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{margin-bottom:20px}.movie-details[_ngcontent-%COMP%]   .reviews[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:70px;height:70px;border-radius:50%;margin-right:20px}.movie-details[_ngcontent-%COMP%]   .reviews[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;position:relative;margin-bottom:20px}.movie-details[_ngcontent-%COMP%]   .reviews[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:0;width:100%;height:1px;background-color:#e8e7e7}.movie-details[_ngcontent-%COMP%]   .recommendation[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:20px 0}.movie-details[_ngcontent-%COMP%]   .recommendation[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .card-img[_ngcontent-%COMP%]{height:250px;width:100%}.movie-details[_ngcontent-%COMP%]   .recommendation[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .card-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%}.movie-details[_ngcontent-%COMP%]   .recommendation[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:15px;font-weight:700;margin:10px 0 5px;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis}.movie-details[_ngcontent-%COMP%]   .recommendation[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .rate[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;background-color:#2d2c2c;color:#fff;margin-top:-25px;margin-left:10px;position:relative;z-index:2}.movie-details[_ngcontent-%COMP%]   .recommendation[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .rate[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{width:45px;height:45px;border-radius:50%;background-color:#292929;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:14px;color:#fff}.movie-details[_ngcontent-%COMP%]   .recommendation[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:#7f7f7f;margin:0}.movie-details[_ngcontent-%COMP%]   .recommendation[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:15px}']})};export{G as MovieDetailsPage};
